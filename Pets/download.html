---
layout: app
title: Download pet animations
---

<script>
  function loadPetImage(url, im)
  {
    var img = new Image();
    img.onload = function(){
      im.src = img.src;
    }
    img.onerror = function(){
      im.style.width = "48px";
    }
    img.src = url;
  }
  
  function loadPetsInfo()
  {
    var xobj = new XMLHttpRequest();
    //xobj.overrideMimeType("application/json");
    xobj.onreadystatechange = function() {
        if (xobj.readyState === 4 && xobj.status === 200) {
            var ani = JSON.parse(xobj.responseText);
            for(var p in ani.pets)
            {
              var tds = document.getElementById('/Pets/' + ani.pets[p].folder + '/').getElementsByTagName("td");
              if(tds.length >= 3)
              {
                tds[1].innerHTML = ani.pets[p].author;
                tds[2].innerHTML = ani.pets[p].lastupdate;
              }
            }
        }
    };
    xobj.open('GET', 'pets.json', true);
    xobj.send(null);
  }
  
  function loadPetInfo(path)
  {
    var xobj = new XMLHttpRequest();
    //xobj.overrideMimeType("text/xml");
    xobj.onreadystatechange = function() {
      if (xobj.readyState === 4 && xobj.status === 200) {
        parser = new DOMParser();
        xmlDoc = parser.parseFromString(xobj.responseText,"text/xml");
        console.log(xmlDoc);
        document.getElementById('xmldiv').innerHTML = html;
        document.getElementById('xmldiv').style.display="block";
      }
    };
    xobj.open('GET', path, true);
    xobj.send(null);
  }
  setTimeout(function(){loadPetsInfo();}, 100);
</script>

<style>
  body {width:100vw;margin:0 auto;text-align:center;}
  .aniicon {width:70px;height:90px;display:inline-block;border-style:solid;border-color:darkblue;background-color:white;border-width:1px;border-radius:5px;cursor:pointer;text-align:center;margin:0 auto;}
  .aniicon img {max-height:48px;max-width:48px;vertical-align:middle;}
  .aniicon td {display:block;overflow:hidden;white-space:nowrap;width:68px;height:12px;text-overflow:ellipsis;text-align:center;font-size:10px;padding:0px;margin:0px;}
  .xmldiv {display:none;position:absolute;width:80vw;height:80vh;top:10vh;left:10vw;}
</style>

{% for page in site.pages %}
  {% if page.name == "README.md" %}
    <div class='aniicon' id='{{ site.url }}{{ page.url }}animations.xml' onclick='loadPetInfo("{{ page.url }}")'>
      <img 
          src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=" 
          onload="loadPetImage('{{ site.url }}{{ page.url }}icon.png', this)" 
          /> 
      <table>
      <tr><td>{{ page.title }}</td></tr>
      <tr><td>-</td></tr>
      <tr><td>-</td></tr>
      </table>

    </div>
  {% endif %}
{% endfor %}  <!-- page -->

<div id="xmldiv"></div>
